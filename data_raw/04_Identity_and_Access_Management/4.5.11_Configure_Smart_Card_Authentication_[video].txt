Click one of the buttons to take you to that part of the video.


Configuring Smart Card Authentication 00:00-00:20

In this demonstration, we'll look at using Group Policy to enforce smart card authentication on computers in a domain. We'll do this by making it so all computers in the research and development department and all administrators need to have a smart card in order to log on.

Creating Group Policy Enforce Smart Card Authentication 00:20-02:08

So, first, let's start by working on the first group, the research and development employees. So, in Server Manager, we're going to go to Tools. We're going to open Group Policy Management. We'll go here, to our Research and Development OU. You can see, in this domain, that we already have that OU created.

Notice that we've already created a Group Policy object and linked it to the Research and Development department OU. So, we'll right-click this Group Policy object and click Edit to open Group Policy Management Editor.

Now, we need to enable two different policies in this Group Policy object to enforce smart card authentication. First, we need to locate a policy named Interactive logon that requires a smart card and enable it. After that, we need to set the interactive log on smart card removal behavior to force log off.

So, let us enable the first policy. Because these are computer policies and not user policies, we'll expand Policies under Computer Configuration. We'll navigate to Windows > Security Settings > Local Policies and then Security Options. Now we need to scroll down to Interactive logon session and locate the policy titled Require Windows Hello for Business or smart card. Keep in mind that because we are editing settings within the Computer Configuration portion of this GPO, the settings will be applied to computers and not to users. If a user in this OU logs onto a computer outside the OU where this policy is applied, they'll not need a smart card.

We're going to double-click the policy. First, we'll define this policy and then enable it. If we click OK, we have just specified that any machines within Research and Development will require a smart card to log in.

Enforcing the Group Policy 02:08-03:13

The next policy we need to look at is called Interactive logon: Smart card removal behavior. As you can see, it is the one right below it. Double-click that policy. Now, we define this policy. We select Force Logoff. We'll click OK.

We can close the Group Policy Management Editor at this point. Now, we can look and see if the GPO is enforced or not. If you look right here, you can see that the GPO Enforced is labeled as No, which means that the GPO is currently not enforced.

There is no little lock icon, meaning the policy isn't enforced. So, when a GPO is enforced, it means that the settings we specify here in the GPO can't be overruled by another GPO that may be linked to a lower organizational unit within the OU, where the GPO is linked.

So, if we don't enforce it, another GPO, like the one in this sub-OU, could potentially override the settings we defined in our RND GPO right here. Since we don't want that to happen, we want this GPO to be enforced.

Enforcing Group Policy for a Group of Users 03:13-05:08

We'll right-click on the GPO and select Enforced. Now, the GPO is enforced. Now, no matter what we do at lower layers within this OU, this GPO will always be enforced. The next time someone logs into a computer within Research and Development, they'll have to have a smart card to do so.

If they have their smart card, then they can use it to authenticate. And if they remove the smart card, they'll automatically be forced to log off. So, let's do the same thing for our administrative users. We'll do this through Active Directory Computers and Users. Let's go ahead and close the Group Policy Management window. We'll go to Tools and then Active Directory Users and Computers.

Now we'll go to our Admins OU I've created. Within the Admins OU are all of our administrative users in the domain. We want these users to be forced to use smart card authentication. So, let's click the first user, and we'll highlight both users. If we right-click both of these at the same time, as they are both highlighted, it will open the Properties for all of the users at once.

If you have four or five users, it can be really helpful, so you don't have to go through and do it to each account. Now, we'll click on the Account tab. You can see, down here, that we're going to scroll down to Smart card is required for interactive logon. Select that.

If we click OK, that change is made for all the admin users here. There's one more account we need to do this for, and that is the Default Administrator User account created when Active Directory was initially installed. We'll go into our Users OU.

You can see the default account here. We'll right-click, go to Properties, go to Account, and we can scroll down until Smart card is required for interactive login. We're going to hit OK. Now, when any of these admin users try to authenticate to their local machine using a domain account, they'll be required to have a smart card for authentication.

Summary 05:08-05:38

That's it for this demonstration. In this demo, we talked about enforcing the use of a smart card for authentication to the local computer systems in our domain. We first edited the Group Policy associated with an OU in the domain and required smart card authentication for any computers in that OU. We made it so that if they remove their smart card, they'll be forced to log off immediately. We then required a smart card for user authentication for all administrative users in the domain.