Transcript




close interactive script
Click one of the buttons to take you to that part of the video.
1. Configure a NAS for Data Backups
00:04
Network attached storage, or NAS, is a
00:07
file-level storage device on your network.
00:10
These devices can be useful when
00:11
you share data or even back it up.
00:14
Generally, there'll be several drives
00:16
in the NAS device for redundancy.
00:18
But if you want to make sure data isn't lost
00:20
due to drive failure, a cloud sync is suggested.<br>
00:25
TrueNAS, which is also known as
00:27
free NAS, is open-source software.
00:30
You can install this software on a
00:31
physical server or a virtual machine.<br>
2. Set Up NAS
00:35
TrueNAS makes it very easy to set up, as
00:37
all we've done up to this point is install
00:39
it, set an IP, and set a root password.<br>
00:42
In order to use any disks for storage,
00:44
we must configure a storage pool.
00:46
To do so, go to 'Storage' and then 'Pools'.
00:50
Then click 'ADD' and 'CREATE POOL'.
00:55
Next, we're going to give it a name and
00:56
select the two available disks we have.
00:59
Most likely, a production NAS will have more storage
01:03
and more available disks then what we're showing.
01:06
Since there are only two disks,
01:08
we're going to set up a 'Mirror' vs.
01:09
Stripe.
01:10
Click 'CREATE', 'Confirm', and 'CREATE POOL'.<br>
01:16
Now that our pool is set up, we must create a Windows share.
01:19
Go to 'Sharing' and then 'Windows Shares (SMB)'.
01:24
The drop-down menu at the top of the main folder will be
01:27
selected since that was the name set on the storage pool.
01:31
Nothing else is needed, but you could add a
01:33
description if you'd like for documentation.
01:35
Click 'SUBMIT'.
01:39
A box will appear asking you to enable
01:41
the SMB service since it wasn't on before.<br>
3. Configure a User
01:44
Next, a user needs to be set up so some form of
01:47
authentication can happen to access this newly created share.
01:51
We'll set up a basic user under 'Accounts' and then 'Users'.
01:56
Click 'ADD'.
01:59
Our name here will be 'backup'.
02:02
The same name will be used for the username as well.
02:05
Enter a password and confirm it.
02:07
As we scroll down, we need to give this
02:09
user permission to our new share directory.
02:12
Drop down the folder and select 'main'.
02:15
All of the home directory permissions
02:17
are fine for now, so we'll leave them.
02:20
One thing is for certain - this user doesn't require shell
02:23
login, so we want to disable this for security purposes.
02:27
If you click over here and select
02:29
'nologin', it'll take care of this problem.
02:33
Click 'SUBMIT' when finished.
02:35
Our configuration is complete on our NAS, so were going
02:38
to hop over to our Windows machine to configure the rest.<br>
4. Map Network Drive
02:42
In order to have this NAS easily accessible,
02:45
we're going to map it as a network drive.
02:47
To do so, go to 'File Explorer'.
02:50
As we expand this, we're going to go to 'This PC'.
02:53
Next, the 'Computer' tab at the top will
02:57
give us the option to map a network drive.
03:02
Select a drive letter of your choosing.
03:05
The path in the folder will be the
03:07
IP address or DNS name for the NAS.
03:09
We're going to use the IP as we don't
03:11
have DNS set up for this right now.
03:13
Type '\\192.168.30.106', as this was the IP of our NAS.
03:21
Now click 'Browse'.
03:23
It'll take a second, and you might have to click on the
03:26
device for the username and password prompt to come up.
03:29
Enter the username and password
03:30
we set up for the backup user.
03:32
The key thing is to check 'Remember my
03:34
credentials', otherwise this mount will be asking
03:37
for the password every time your computer reboots.
03:39
Click 'OK' and then select the 'backup' folder.
03:43
If you notice, TrueNAS creates a folder with
03:46
the same username as the user, unless changed.
03:49
Once we click 'Finish', our new mount
03:51
will be mounted as the N: drive.
03:53
Don't worry about the rest of the files
03:55
in this directory, as this pertains to the
03:56
username associated with the TrueNAS side.
04:00
Since we may have multiple computers backing up their
04:02
data here, we'll just name a folder 'computer_1'.<br>
5. Set File History
04:07
Now we can go set up some backup jobs.
04:09
You do have the ability to use other backup solutions.
04:12
However, we're just going to use the built-in File History.
04:16
When we type 'backup' in the search bar
04:18
here, it brings us to our backup settings.
04:21
Notice when we click on 'Add a drive',
04:23
it says no usable drives found.
04:25
This doesn't mean it's broken.
04:27
Typically, this menu looks for secondary
04:29
or removable drives that are local.
04:32
If we select 'More options' and 'See advanced settings', we
04:36
get the option to map file history to a network location.
04:40
We can then navigate to our mapped drive by
04:42
going to 'This PC', clicking on the 'N:'
04:51
drive, and going to the 'computer_1' folder.
04:54
Click 'OK' and then after that we should
04:57
be able to turn on our 'File History' now.<br>
6. Summary
05:00
That's it for this demo.
05:01
In this demo, we showed you how to configure
05:04
a NAS, set up an SMB share, and configure a
05:07
mapped network drive for File History backups.<br>