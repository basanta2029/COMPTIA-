
Transcript




close interactive script
Click one of the buttons to take you to that part of the video.
1. Configure Linux iptables
00:04
In this demo, we're going to look at iptables, the default
00:06
firewall for Linux systems.
00:09
You configure iptables from the from the command line.
00:12
We aren't going to cover everything about iptables because
00:14
that's a vast subject that goes way beyond the scope of this
00:17
course, but we are going to introduce the topic.
2. Firewall and Filter Table
00:20
We know that a firewall is a part of a computer system,
00:22
or network, that is designed to block unauthorized access
00:25
while permitting authorized communications to hosts.
00:29
Let's start by talking about the filtering table.
00:32
A filter table has three of what's know as chains.
00:35
The input chain applies rules to packets
00:37
coming into the system.
00:39
The forward chain is for packets being routed through
00:41
the system.
00:42
And the output chain is for locally generated packets
00:45
sent out from the system.
3. Install and Update iptables
00:47
Let's look at our iptables.
00:49
I have a Linux system running here, and I want to open
00:51
the terminal, or command line.
00:53
I'll select it.
00:54
My terminal application is right here.
00:56
But if it wasn't listed, I could type 'terminal' in the
00:59
Search box.
01:00
iptables is almost always preinstalled on Linux systems.
01:03
But if it is not, we can run a command to install
01:06
or update it.
01:08
If it is installed, running this command won't hurt
01:10
anything, so let's go ahead and do that now.
01:13
To install or update iptables, we have to run this as
01:16
a root user, so we need to use the sudo command.
01:19
So, let's type in 'sudo apt-get install iptables'.
01:27
Linux prompts me for my password, so I'll type that in
01:30
right here.
01:31
We can see it tells us that iptables is already installed,
01:34
and I have the latest version.
01:36
We are good to go here.
4. Check Default iptables
01:38
The first thing I want to do is see
01:39
what's currently configured.
01:41
Remember that Linux is case sensitive, so pay attention
01:44
to that when you type in commands.
01:46
I'm going to clear the screen by typing .clear..
01:49
Let's type in 'sudo iptables -L'.
01:56
Notice that the policy is set to Accept
01:58
for all three chains.
5. Block ICMP with iptables
02:00
Let's say our Linux system is getting a very large number
02:02
of ping requests, so we decide to block echo requests.
02:06
We can do this with iptables.
02:08
Let's jump over to a Windows 10 workstation.
02:10
I'm going to ping my Linux system just to be sure they
02:13
can communicate.
02:15
I know that the IP address for the Linux system is
02:18
192.168.0.7, so let's type
02:21
'ping 192.168.0.7' and press Enter.
02:27
You can see I get a response.
02:28
Now let's jump over to our Linux system and block pings.
02:33
Okay, I'm back on the Linux system. I'm going to clear
02:35
the screen again.
02:37
To block pings, I need to enter the following command:
02:40
'sudo iptables -A
02:43
INPUT -p icmp --icmp-type
02:50
echo-request -j DROP'.
02:55
Remember that this is case sensitive.
02:57
With this command, the -A tells it
03:00
I want to add a rule, the -p specifies the protocol.
03:03
There are a whole lot of switches you can use, but we only
03:06
use a couple here.
03:08
We also told iptables to drop the request.
03:11
We also could have told it to reject the request.
03:14
The difference is that if we drop it, the system responds as
03:16
if there isn't even a system there.
03:18
It does nothing except drop the request.
03:21
Reject, on the other hand, responds with a message saying
03:24
the destination port is unreachable.
03:26
That might tell a hacker that there is something there,
03:28
but it's not replying.
03:30
Now let's go back to our Windows 10 workstation once more and try
03:32
to ping again.
03:34
I'm going to type .ping 192.168.0.7. and press Enter.
03:40
You see that I get request timed out messages back, so
03:43
the rule is working.
6. Summary
03:45
That's it for this demo.
03:46
In this demo, we talked about iptables. We ran the
03:49
command to install and update iptables. We looked at
03:52
the iptables default policies and then configured a
03:55
simple rule to drop ping requests to our Linux system.