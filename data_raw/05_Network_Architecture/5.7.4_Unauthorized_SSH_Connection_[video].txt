Transcript




close interactive script
Click one of the buttons to take you to that part of the video.
1. Establish an Unauthorized SSH Connection
00:04
Malicious users sometimes gain access
00:06
to systems with SSH connections.
00:08
It's not a good idea to allow root access through SSH,
00:11
but many admins modify their systems to allow it anyway.
00:15
Once a malicious user has access to the
00:17
system, they can pretty much do what they want.
00:19
In this demo, we're going to gain access to a Linux
00:22
system and create an unauthorized SSH session.<br>
2. Find the System
00:25
The first thing we need to do is find our target.
00:28
I'm on a Kali Linux system with a terminal open.
00:30
I'm going to do a ping sweep using nmap on my subnet.
00:32
I already know that my subnet is 10.10.10.0.
00:37
So, to do this, I'll type '10.10.10.0/24',
00:42
or I could also put in the IP range.
00:44
In this case, that would be '10.10.10.1-254'.
00:48
Press Enter.<br>
00:49
My scan completes, and down here,
00:51
I can see that it found four hosts.
00:53
Up here, I can see that I have a device called Router with
00:56
the IP of 10.10.10.1, so that's going to be my target.
01:00
I'll clear the screen.
01:02
And now, I want to scan just that
01:04
IP to see which ports are open.
01:07
The scan completes, and this, right
01:08
here, is what I'm interested in.
01:10
I see that SSH is running on port 22 on this system.<br>
3. Nmap Scripting Engine Brute-Force Script
01:14
Now, let's use nmap and run a script that will
01:17
attempt to brute force the username and password.
01:19
nmap comes with something called the Nmap scripting engine.
01:23
One of those scripts is for brute forcing SSH.
01:26
So, let's type that in, 'nmap -
01:28
-script=ssh-brute 10.10.10.1', and press Enter.
01:34
nmap will begin the process of attempting
01:36
to brute force the username and password.
01:39
nmap is using a built-in default username
01:41
list and a password list to do this.
01:44
First, it will grab a username and try a password.
01:46
Then it goes to the next username
01:48
and tries the next password.
01:50
I'm on a virtual machine without a lot of system
01:52
resources, so this is going to take some time.
01:54
So, while this is running, I'll pause the recording.<br>
01:57
All right.
01:58
The scan finished up, and we can see, here, that
02:00
it found the username Root and the password,
02:02
which is a variation of the word "password."
02:04
The brute force made 2,270 guesses, and it took just
02:08
a little over 600 seconds to complete the process.
02:12
As I mentioned, this is a virtual machine,
02:14
so the scanning goes a lot slower.
02:15
But I do happen to know that the password it found is near
02:19
the top of the list of tens of thousands of passwords.
02:22
So, depending on your system and your password
02:24
file, your results could be substantially different.<br>
02:28
Now that we know our username and password, let's try
02:30
to make an unauthorized SSH connection to that system.
02:33
I'm going to jump over to a Windows 10
02:35
system and try the connection from there.<br>
4. Unauthorized SSH Connection from Windows 10
02:38
All right.
02:38
I'm on this Windows 10 machine, and up
02:40
here, I have a program called PuTTY.
02:42
PuTTY is a free and open-source terminal emulator,
02:45
serial console, and network file transfer application.
02:49
It supports several network protocols, including
02:51
SCP, SSH, Telnet, rlogin, and other connections.
02:56
It's often used to connect to
02:57
switching and routing equipment.<br>
02:59
To make a connection, I'll type in the IP
03:01
address for our victim machine, '10.10.10.1'.
03:05
Under Port, 22 is already entered, so I'll just hit Enter.<br>
03:09
Now, a terminal opens up.
03:10
It's asking for a login name, so I'll put in 'root'.
03:13
And now it wants my password, so I'll type in the
03:15
variation of the word "password" that we saw earlier.
03:19
Press Enter, and I'm logged in!
03:21
So, whatever's possible to do in a terminal,
03:23
I'm able to do--that gives me a lot of options.<br>
03:27
Okay.
03:27
I still want to look at one more thing, and
03:30
that's to log in to that victim machine to see
03:32
what's going on while this SSH session is running.<br>
5. Log in to the Victim Machine
03:36
Let's go over to this Linux system.
03:38
This is actually a Linux distribution
03:40
that's used as a firewall and router.
03:42
I'm going to go ahead and log in to the GUI.
03:44
Once I've logged in, I'm not really able to tell that
03:47
there's an SSH session going on at the exact same time.<br>
6. Summary
03:50
That's it for this demo.
03:52
In this demo, we performed an unauthorized SSH connection.
03:56
First, we scanned our subnet with nmap to find our victim.
03:59
Then we used an nmap script to brute
04:02
force the username and password.
04:04
We used that information to make the SSH connection
04:07
to the victim machine using the program PuTTY.
04:10
And we wrapped up by logging in to the victim machine's
04:12
GUI to verify that the SSH session wan't detected.<br>